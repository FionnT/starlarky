def inputhook(inputhook_context):
    """

        Inputhook for Tk.
        Run the Tk eventloop until prompt-toolkit needs to process the next input.
    
    """
    def wait_using_filehandler():
        """

                Run the TK eventloop until the file handler that we got from the
                inputhook becomes readable.
        
        """
        def done(*a):
            """
             Run the TK event loop as long as we don't receive input.

            """
    def wait_using_polling():
        """

                Windows TK doesn't support 'createfilehandler'.
                So, run the TK eventloop and poll until input is ready.
        
        """
